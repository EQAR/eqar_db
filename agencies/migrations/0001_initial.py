# Generated by Django 3.1.2 on 2020-10-13 20:31

from django.db import migrations, models
import django.db.models.deletion
import eqar_db.custom_fields


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('contacts', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='RegisteredAgency',
            fields=[
                ('id', models.AutoField(db_column='rid', primary_key=True, serialize=False)),
                ('shortname', models.CharField(blank=True, max_length=255, null=True)),
                ('registered', models.BooleanField(default=False)),
                ('deqar_id', models.IntegerField(blank=True, db_column='deqarId', null=True, unique=True)),
                ('register_url', models.URLField(blank=True, db_column='registerUrl', max_length=255, null=True)),
                ('registered_since', models.DateField(blank=True, db_column='registeredSince', null=True)),
                ('valid_until', models.DateField(blank=True, db_column='validUntil', null=True)),
                ('comment', models.TextField(blank=True, null=True)),
                ('reminder', models.DateField(blank=True, null=True)),
                ('mtime', models.DateTimeField(auto_now=True)),
                ('base_country', models.ForeignKey(db_column='baseCountry', on_delete=django.db.models.deletion.RESTRICT, to='contacts.country')),
                ('main_contact', models.ForeignKey(blank=True, db_column='mainContact', null=True, on_delete=django.db.models.deletion.RESTRICT, related_name='agency_main', to='contacts.contact')),
                ('octopus_account', models.OneToOneField(blank=True, db_column='oaid', null=True, on_delete=django.db.models.deletion.RESTRICT, to='contacts.octopusaccount')),
                ('organisation', models.OneToOneField(blank=True, db_column='oid', null=True, on_delete=django.db.models.deletion.RESTRICT, to='contacts.organisation')),
                ('web_contact', models.ForeignKey(blank=True, db_column='webContact', null=True, on_delete=django.db.models.deletion.RESTRICT, related_name='agency_web', to='contacts.contact')),
            ],
            options={
                'db_table': 'registeredAgency',
                'ordering': ['shortname'],
            },
        ),
        migrations.CreateModel(
            name='Complaint',
            fields=[
                ('id', models.AutoField(db_column='coid', primary_key=True, serialize=False)),
                ('submit_date', models.DateField(blank=True, db_column='submitDate', null=True)),
                ('stage', eqar_db.custom_fields.EnumField(choices=[('1. Analysis by Secretariat', '1. Analysis by Secretariat'), ('2. Sent to rapporteurs', '2. Sent to rapporteurs'), ('3. Waiting RC consideration', '3. Waiting RC consideration'), ('4. Completed', '4. Completed')], default='1. Analysis by Secretariat')),
                ('result', eqar_db.custom_fields.EnumField(blank=True, choices=[('Inadmissible', 'Inadmissible'), ('Rejected (not substantiated)', 'Rejected (not substantiated)'), ('Formal warning', 'Formal warning'), ('Extraordinary revision of registration', 'Extraordinary revision of registration')], null=True)),
                ('decision_date', models.DateField(blank=True, db_column='decisionDate', null=True)),
                ('comment', models.TextField(blank=True, null=True)),
                ('mtime', models.DateTimeField(auto_now=True)),
                ('agency', models.ForeignKey(db_column='rid', on_delete=django.db.models.deletion.DO_NOTHING, to='agencies.registeredagency')),
                ('rapporteur1', models.ForeignKey(blank=True, db_column='rapporteur1', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='complaint_rapporteur1', to='contacts.contact')),
                ('rapporteur2', models.ForeignKey(blank=True, db_column='rapporteur2', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='complaint_rapporteur2', to='contacts.contact')),
                ('secretary', models.ForeignKey(blank=True, db_column='secretary', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='complaint_secretary', to='contacts.contact')),
            ],
            options={
                'db_table': 'complaint',
            },
        ),
        migrations.CreateModel(
            name='ChangeReport',
            fields=[
                ('id', models.AutoField(db_column='crid', primary_key=True, serialize=False)),
                ('submit_date', models.DateField(blank=True, db_column='submitDate', null=True)),
                ('stage', eqar_db.custom_fields.EnumField(choices=[('1. Analysis by Secretariat', '1. Analysis by Secretariat'), ('2. Sent to rapporteurs', '2. Sent to rapporteurs'), ('3. Waiting RC consideration', '3. Waiting RC consideration'), ('4. Completed', '4. Completed')], default='1. Analysis by Secretariat')),
                ('result', eqar_db.custom_fields.EnumField(blank=True, choices=[('Take note', 'Take note'), ('Take note + further report', 'Take note + further report'), ('Extraordinary revision of registration', 'Extraordinary revision of registration')], null=True)),
                ('decision_date', models.DateField(blank=True, db_column='decisionDate', null=True)),
                ('comment', models.TextField(blank=True, null=True)),
                ('mtime', models.DateTimeField(auto_now=True)),
                ('agency', models.ForeignKey(db_column='rid', on_delete=django.db.models.deletion.DO_NOTHING, to='agencies.registeredagency')),
                ('rapporteur1', models.ForeignKey(blank=True, db_column='rapporteur1', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='change_report_rapporteur1', to='contacts.contact')),
                ('rapporteur2', models.ForeignKey(blank=True, db_column='rapporteur2', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='change_report_rapporteur2', to='contacts.contact')),
                ('secretary', models.ForeignKey(blank=True, db_column='secretary', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='change_report_secretary', to='contacts.contact')),
            ],
            options={
                'db_table': 'changeReport',
            },
        ),
        migrations.CreateModel(
            name='Applications',
            fields=[
                ('id', models.AutoField(db_column='aid', primary_key=True, serialize=False)),
                ('submit_date', models.DateField(blank=True, db_column='submitDate', null=True)),
                ('type', eqar_db.custom_fields.EnumField(choices=[('Initial', 'Initial application for registration'), ('Renewal', 'Application for renewal of registration')], default='Initial')),
                ('stage', eqar_db.custom_fields.EnumField(choices=[('1. Eligibility check', '1. Eligibility check'), ('2. Waiting report', '2. Waiting report'), ('3. First consideration', '3. First consideration'), ('4. Waiting representation', '4. Waiting representation'), ('5. Second consideration', '5. Second consideration'), ('6. Waiting appeal', '6. Waiting appeal'), ('7. Appeal consideration', '7. Appeal consideration'), ('8. Completed', '8. Completed'), ('-- Withdrawn', '-- Withdrawn')], default='1. Eligibility check')),
                ('eligibility_date', models.DateField(blank=True, db_column='eligibilityDate', null=True)),
                ('report_expected', models.DateField(blank=True, db_column='reportExpected', null=True)),
                ('report_date', models.DateField(blank=True, db_column='reportDate', null=True)),
                ('report_submitted', models.DateField(blank=True, db_column='reportSubmitted', null=True)),
                ('teleconf_date', models.DateField(blank=True, db_column='teleconfDate', null=True)),
                ('panel_2_1', eqar_db.custom_fields.EnumField(blank=True, choices=[('Full compliance', 'Full compliance'), ('Substantial compliance', 'Substantial compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('panel_2_2', eqar_db.custom_fields.EnumField(blank=True, choices=[('Full compliance', 'Full compliance'), ('Substantial compliance', 'Substantial compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('panel_2_3', eqar_db.custom_fields.EnumField(blank=True, choices=[('Full compliance', 'Full compliance'), ('Substantial compliance', 'Substantial compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('panel_2_4', eqar_db.custom_fields.EnumField(blank=True, choices=[('Full compliance', 'Full compliance'), ('Substantial compliance', 'Substantial compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('panel_2_5', eqar_db.custom_fields.EnumField(blank=True, choices=[('Full compliance', 'Full compliance'), ('Substantial compliance', 'Substantial compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('panel_2_6', eqar_db.custom_fields.EnumField(blank=True, choices=[('Full compliance', 'Full compliance'), ('Substantial compliance', 'Substantial compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('panel_2_7', eqar_db.custom_fields.EnumField(blank=True, choices=[('Full compliance', 'Full compliance'), ('Substantial compliance', 'Substantial compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('panel_3_1', eqar_db.custom_fields.EnumField(blank=True, choices=[('Full compliance', 'Full compliance'), ('Substantial compliance', 'Substantial compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('panel_3_2', eqar_db.custom_fields.EnumField(blank=True, choices=[('Full compliance', 'Full compliance'), ('Substantial compliance', 'Substantial compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('panel_3_3', eqar_db.custom_fields.EnumField(blank=True, choices=[('Full compliance', 'Full compliance'), ('Substantial compliance', 'Substantial compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('panel_3_4', eqar_db.custom_fields.EnumField(blank=True, choices=[('Full compliance', 'Full compliance'), ('Substantial compliance', 'Substantial compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('panel_3_5', eqar_db.custom_fields.EnumField(blank=True, choices=[('Full compliance', 'Full compliance'), ('Substantial compliance', 'Substantial compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('panel_3_6', eqar_db.custom_fields.EnumField(blank=True, choices=[('Full compliance', 'Full compliance'), ('Substantial compliance', 'Substantial compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rapp_2_1', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rapp_2_2', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rapp_2_3', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rapp_2_4', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rapp_2_5', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rapp_2_6', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rapp_2_7', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rapp_3_1', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rapp_3_2', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rapp_3_3', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rapp_3_4', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rapp_3_5', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rapp_3_6', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rc_2_1', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rc_2_2', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rc_2_3', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rc_2_4', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rc_2_5', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rc_2_6', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rc_2_7', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rc_3_1', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rc_3_2', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rc_3_3', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rc_3_4', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rc_3_5', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('rc_3_6', eqar_db.custom_fields.EnumField(blank=True, choices=[('Compliance', 'Compliance'), ('Partial compliance', 'Partial compliance'), ('Non-compliance', 'Non-compliance')], null=True)),
                ('invoice_no', models.IntegerField(blank=True, db_column='invoiceNo', null=True, unique=True)),
                ('result', eqar_db.custom_fields.EnumField(blank=True, choices=[('Approved', 'Approved'), ('Rejected', 'Rejected'), ('Withdrawn', 'Withdrawn')], null=True)),
                ('decision_date', models.DateField(blank=True, db_column='decisionDate', null=True)),
                ('comment', models.TextField(blank=True, null=True)),
                ('mtime', models.DateTimeField(auto_now=True)),
                ('agency', models.ForeignKey(db_column='rid', on_delete=django.db.models.deletion.RESTRICT, to='agencies.registeredagency')),
                ('coordinator', models.ForeignKey(blank=True, db_column='coordinator', null=True, on_delete=django.db.models.deletion.RESTRICT, to='contacts.organisation')),
                ('rapporteur1', models.ForeignKey(blank=True, db_column='rapporteur1', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='application_rapporteur1', to='contacts.contact')),
                ('rapporteur2', models.ForeignKey(blank=True, db_column='rapporteur2', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='application_rapporteur2', to='contacts.contact')),
                ('rapporteur3', models.ForeignKey(blank=True, db_column='rapporteur3', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='application_rapporteur3', to='contacts.contact')),
                ('secretary', models.ForeignKey(blank=True, db_column='secretary', null=True, on_delete=django.db.models.deletion.RESTRICT, related_name='application_secretary', to='contacts.contact')),
            ],
            options={
                'db_table': 'applications',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='ApplicationRole',
            fields=[
                ('id', models.AutoField(db_column='arid', primary_key=True, serialize=False)),
                ('role', eqar_db.custom_fields.EnumField(choices=[('Panel member', 'Panel member'), ('Panel chair', 'Panel chair'), ('Panel secretary', 'Panel secretary'), ('Coordinator', 'Coordinator'), ('Other', 'Other')], default='Panel member')),
                ('notes', models.TextField(blank=True, null=True)),
                ('mtime', models.DateTimeField(auto_now=True)),
                ('application', models.ForeignKey(db_column='aid', on_delete=django.db.models.deletion.CASCADE, to='agencies.applications')),
                ('contact', models.ForeignKey(db_column='cid', on_delete=django.db.models.deletion.RESTRICT, to='contacts.contact')),
            ],
            options={
                'db_table': 'applicationRole',
            },
        ),
        migrations.CreateModel(
            name='ApplicationInterest',
            fields=[
                ('id', models.AutoField(db_column='aiid', primary_key=True, serialize=False)),
                ('notes', models.TextField(blank=True, null=True)),
                ('mtime', models.DateTimeField(auto_now=True)),
                ('application', models.ForeignKey(db_column='aid', on_delete=django.db.models.deletion.CASCADE, to='agencies.applications')),
                ('contact', models.ForeignKey(db_column='cid', on_delete=django.db.models.deletion.RESTRICT, to='contacts.contact')),
            ],
            options={
                'db_table': 'applicationInterest',
            },
        ),
        migrations.CreateModel(
            name='ApplicationClarification',
            fields=[
                ('id', models.AutoField(db_column='acid', primary_key=True, serialize=False)),
                ('type', eqar_db.custom_fields.EnumField(choices=[('Panel', 'Panel'), ('Coordinator', 'Coordinator'), ('Agency', 'Agency'), ('Other', 'Other')], default='Panel')),
                ('sent_on', models.DateField(blank=True, db_column='sentOn', null=True)),
                ('reply_on', models.DateField(blank=True, db_column='replyOn', null=True)),
                ('esg_2_1', models.BooleanField(default=False)),
                ('esg_2_2', models.BooleanField(default=False)),
                ('esg_2_3', models.BooleanField(default=False)),
                ('esg_2_4', models.BooleanField(default=False)),
                ('esg_2_5', models.BooleanField(default=False)),
                ('esg_2_6', models.BooleanField(default=False)),
                ('esg_2_7', models.BooleanField(default=False)),
                ('esg_3_1', models.BooleanField(default=False)),
                ('esg_3_2', models.BooleanField(default=False)),
                ('esg_3_3', models.BooleanField(default=False)),
                ('esg_3_4', models.BooleanField(default=False)),
                ('esg_3_5', models.BooleanField(default=False)),
                ('esg_3_6', models.BooleanField(default=False)),
                ('notes', models.TextField(blank=True, null=True)),
                ('mtime', models.DateTimeField(auto_now=True)),
                ('application', models.ForeignKey(db_column='aid', on_delete=django.db.models.deletion.CASCADE, to='agencies.applications')),
                ('recipient_contact', models.ForeignKey(blank=True, db_column='recipientContact', null=True, on_delete=django.db.models.deletion.SET_NULL, to='contacts.contact')),
                ('recipient_org', models.ForeignKey(blank=True, db_column='recipientOrg', null=True, on_delete=django.db.models.deletion.RESTRICT, to='contacts.organisation')),
            ],
            options={
                'db_table': 'applicationClarification',
            },
        ),
        migrations.CreateModel(
            name='AgencyUpdate',
            fields=[
                ('id', models.AutoField(db_column='uid', primary_key=True, serialize=False)),
                ('year', models.IntegerField()),
                ('type', eqar_db.custom_fields.EnumField(choices=[('institutional', 'Instituional reviews'), ('programme', 'Programme-level reviews'), ('joint programme', 'Joint programme reviews')], default='institutional')),
                ('amount', models.IntegerField(blank=True, null=True)),
                ('cross_border', models.BooleanField(db_column='crossBorder', default=False)),
                ('source', eqar_db.custom_fields.EnumField(choices=[('DEQAR', 'Reports in DEQAR'), ('form', 'Annual survey')], default='DEQAR')),
                ('mtime', models.DateTimeField(auto_now=True)),
                ('agency', models.ForeignKey(db_column='rid', on_delete=django.db.models.deletion.CASCADE, to='agencies.registeredagency')),
                ('country', models.ForeignKey(db_column='country', on_delete=django.db.models.deletion.RESTRICT, to='contacts.country')),
            ],
            options={
                'db_table': 'agencyUpdate',
                'ordering': ['agency', '-year', 'country'],
                'unique_together': {('agency', 'country', 'year', 'type', 'source')},
            },
        ),
    ]
